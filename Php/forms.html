<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Handling</title>
    <link rel="stylesheet" href="../iframe_content.css" />

    <!-- Prism.js CSS -->
    <link rel="stylesheet" href="../Assets/Prism/prism.min.css" />

    <!-- JQuery Script -->
    <script src="../Assets/jquery/jquery.min.js"></script>
  </head>
  <body>
    <div>
      <h1>Form Handling</h1>
    </div>
    <div class="paragraphBox">
      <p>
        The PHP superglobals <span class="c-r">$_GET</span> and
        <span class="c-r">$_POST</span> are used to collect form-data.
      </p>
    </div>

    <hr />

    <div>
      <h1>$_POST Method</h1>
    </div>
    <div class="paragraphBox">
      <p>
        The example below displays a simple HTML form with two input fields and
        a submit button:
      </p>
      <div class="scriptBox" id="roundbox">
        <pre><code class="language-html">
          &lt;body&gt;

            &lt;form action="welcome.php" method="POST"&gt;
            Name: &lt;input type="text" name="name"&gt;&lt;br&gt;
            E-mail: &lt;input type="text" name="email"&gt;&lt;br&gt;
            &lt;input type="submit"&gt;
            &lt;/form&gt;
            
          &lt;/body&gt;
        </code></pre>
      </div>
      <p>
        When the user fills out the form above and clicks the submit button, the
        form data is sent for processing to a PHP file named "welcome.php". The
        form data is sent with the HTTP POST method.
      </p>
      <p>
        To display the submitted data you could simply echo all the variables.
      </p>
      <div class="scriptBox" id="roundbox">
        <p>The "welcome.php" looks like this:</p>
        <pre><code class="language-php">
          &lt;body&gt;

          Welcome &lt;?php echo $_POST["name"]; ?&gt;&lt;br&gt;
          Your email address is: &lt;?php echo $_POST["email"]; ?&gt;
            
          &lt;/body&gt;
        </code></pre>
      </div>
      <div class="scriptBox" id="roundbox">
        <p>The output could be something like this:</p>
        <pre><code class="language-html">
          Welcome John
          Your email address is john.doe@example.com
        </code></pre>
      </div>
    </div>

    <hr />

    <div>
      <h1>$_GET Method</h1>
    </div>
    <div class="paragraphBox">
      <p>The same result could also be achieved using the HTTP GET method:</p>

      <div class="scriptBox" id="roundbox">
        <p>Same example, but the method is set to GET instead of POST:</p>
        <pre><code class="language-html">
          &lt;body&gt;

            &lt;form action="welcome_get.php" method="GET"&gt;
            Name: &lt;input type="text" name="name"&gt;&lt;br&gt;
            E-mail: &lt;input type="text" name="email"&gt;&lt;br&gt;
            &lt;input type="submit"&gt;
            &lt;/form&gt;
            
          &lt;/body&gt;
        </code></pre>
      </div>
      <div class="scriptBox" id="roundbox">
        <p>And "welcome_get.php" looks like this:</p>
        <pre><code class="language-html">
          &lt;body&gt;

          Welcome &lt;?php echo $_GET["name"]; ?&gt;&lt;br&gt;
          Your email address is: &lt;?php echo $_GET["email"]; ?&gt;
            
          &lt;/body&gt;
        </code></pre>
      </div>
      <p>
        The code above is quite simple, and it does not include any validation.
      </p>
      <p>
        You need to validate form data to protect your script from malicious
        code.
      </p>
    </div>

    <hr />

    <div>
      <h1>GET vs. POST</h1>
    </div>
    <div class="paragraphBox">
      <p>
        Both GET and POST create an array (e.g. array( key1 => value1, key2 =>
        value2, key3 => value3, ...)). This array holds key/value pairs, where
        keys are the names of the form controls and values are the input data
        from the user.
      </p>
      <p>
        Both GET and POST are treated as $_GET and $_POST. These are
        superglobals, which means that they are always accessible, regardless of
        scope - and you can access them from any function, class or file without
        having to do anything special.
      </p>
      <p>
        <span class="c-r">$_GET</span> is an array of variables passed to the
        current script via the URL parameters.
      </p>
      <p>
        <span class="c-r">$_POST</span> is an array of variables passed to the
        current script via the HTTP POST method.
      </p>

      <h2><span class="c-r">When to use GET?</span></h2>
      <p>
        Information sent from a form with the GET method is visible to everyone
        (all variable names and values are displayed in the URL).
      </p>
      <p>
        GET also has limits on the amount of information to send. The limitation
        is about 2000 characters.
      </p>
      <p>
        However, because the variables are displayed in the URL, it is possible
        to bookmark the page. This can be useful in some cases.
      </p>
      <p>GET may be used for sending non-sensitive data.</p>
      <p>
        GET should NEVER be used for sending passwords or other sensitive
        information!
      </p>

      <h2><span class="c-r">When to use POST? </span></h2>
      <p>
        Information sent from a form with the POST method is invisible to others
        (all names/values are embedded within the body of the HTTP request).
      </p>
      <p>POST has no limits on the amount of information to send.</p>
      <p>
        Moreover POST supports advanced functionality such as support for
        multi-part binary input while uploading files to server.
      </p>
      <p>
        However, because the variables are not displayed in the URL, it is not
        possible to bookmark the page.
      </p>
      <p>POST used for sending passwords or other sensitive information!</p>
    </div>

    <hr />

    <div>
      <h1>Form Validation</h1>
    </div>
    <div class="paragraphBox">
      <p>
        This will show how to process PHP forms with security in mind. Proper
        validation of form data is important to protect your form from hackers
        and spammers!
      </p>
      <ul>
        <li>
          <span class="c-r">is_finite()</span>
        </li>
        <li>
          <span class="c-r">is_infinite()</span>
        </li>
      </ul>
      <div class="scriptBox" id="roundbox">
        <p>Check if a numeric value is finite or infinite:</p>
        <pre><code class="language-php">
          $x = 1.9e411;
          var_dump($x);    //float(INF)
        </code></pre>
      </div>
    </div>

    <hr />

    <div>
      <h1>NaN</h1>
    </div>
    <div class="paragraphBox">
      <p>NaN stands for Not a Number.</p>
      <p>NaN is used for impossible mathematical operations.</p>
      <p>
        PHP has the following functions to check if a value is not a number:
      </p>
      <ul>
        <li>
          <span class="c-r">is_nan()</span>
        </li>
      </ul>
      <div class="scriptBox" id="roundbox">
        <p>
          Invalid calculation will return a <span class="c-r">NaN</span> value:
        </p>
        <pre><code class="language-php">
          $x = acos(8);
          var_dump($x);   //float(NAN)
        </code></pre>
      </div>
    </div>

    <hr />

    <div>
      <h1>Numerical Strings</h1>
    </div>
    <div class="paragraphBox">
      <p>
        The PHP <span class="c-r">is_numeric()</span> function can be used to
        find whether a variable is numeric.
      </p>
      <p>
        The function returns true if the variable is a number or a numeric
        string, false otherwise.
      </p>

      <div class="scriptBox" id="roundbox">
        <p>Check if the variable is numeric:</p>
        <pre><code class="language-php">
          $x = 5985;
          var_dump(is_numeric($x));    //bool(true)

          $x = "5985";
          var_dump(is_numeric($x));    //bool(true)

          $x = "59.85" + 100;
          var_dump(is_numeric($x));    //bool(true)

          $x = "Hello";
          var_dump(is_numeric($x));    //bool(false)
        </code></pre>
      </div>
    </div>

    <hr />

    <div>
      <h1>Casting Strings and Floats to Integers</h1>
    </div>
    <div class="paragraphBox">
      <p>
        Sometimes you need to cast a numerical value into another data type.
      </p>
      <p>
        The <span class="c-r">(int)</span>, <span class="c-r">(integer)</span>,
        and <span class="c-r">intval()</span> functions are often used to
        convert a value to an integer.
      </p>

      <div class="scriptBox" id="roundbox">
        <p>Cast float and string to integer:</p>
        <pre><code class="language-php">
          // Cast float to int
          $x = 23465.768;
          $int_cast = (int)$x;
          echo $int_cast;     //23465

          // Cast string to int
          $x = "23465.768";
          $int_cast = (int)$x;
          echo $int_cast;     //23465
        </code></pre>
      </div>
    </div>

    <!-- Prism.js JavaScript -->
    <script src="../Assets/Prism/prism.min.js"></script>
    <script src="../Assets/Prism/prism-php.min.js"></script>
  </body>
</html>
